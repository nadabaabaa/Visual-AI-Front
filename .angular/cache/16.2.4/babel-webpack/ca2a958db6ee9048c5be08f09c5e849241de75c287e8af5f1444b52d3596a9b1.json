{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { WebcamUtil } from 'ngx-webcam';\nimport { Subject } from 'rxjs';\nlet testvisuel = class testvisuel {\n  constructor(title, meta, router, themeService, translate) {\n    this.title = title;\n    this.meta = meta;\n    this.router = router;\n    this.themeService = themeService;\n    this.translate = translate;\n    this.email = '';\n    this.password = '';\n    this.phonenumber = '';\n    this.emailPattern = '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$';\n    this.showWebcam = false;\n    this.allowCameraSwitch = true;\n    this.multipleWebcamsAvailable = false;\n    this.facingMode = 'environment';\n    this.messages = [];\n    // latest snapshot\n    this.webcamImage = null;\n    // webcam snapshot trigger\n    this.trigger = new Subject();\n    // switch to next / previous / specific webcam; true/false: forward/backwards, string: deviceId\n    this.nextWebcam = new Subject();\n    this.title.setTitle('sign-up - Soft UI Pro');\n    this.meta.addTags([{\n      property: 'og:title',\n      content: 'sign-up - Soft UI Pro'\n    }]);\n  }\n  ngOnInit() {\n    this.readAvailableVideoInputs();\n  }\n  triggerSnapshot() {\n    this.trigger.next();\n  }\n  toggleWebcam() {\n    this.showWebcam = !this.showWebcam;\n  }\n  handleInitError(error) {\n    this.messages.push(error);\n    if (error.mediaStreamError && error.mediaStreamError.name === 'NotAllowedError') {\n      this.addMessage('User denied camera access');\n    }\n  }\n  showNextWebcam(directionOrDeviceId) {\n    // true => move forward through devices\n    // false => move backwards through devices\n    // string => move to device with given deviceId\n    this.nextWebcam.next(directionOrDeviceId);\n  }\n  handleImage(webcamImage) {\n    this.addMessage('Received webcam image');\n    console.log(webcamImage);\n    this.webcamImage = webcamImage;\n  }\n  cameraWasSwitched(deviceId) {\n    this.addMessage('Active device: ' + deviceId);\n    this.deviceId = deviceId;\n    this.readAvailableVideoInputs();\n  }\n  addMessage(message) {\n    console.log(message);\n    this.messages.unshift(message);\n  }\n  get triggerObservable() {\n    return this.trigger.asObservable();\n  }\n  get nextWebcamObservable() {\n    return this.nextWebcam.asObservable();\n  }\n  get videoOptions() {\n    const result = {};\n    if (this.facingMode && this.facingMode !== '') {\n      result.facingMode = {\n        ideal: this.facingMode\n      };\n    }\n    return result;\n  }\n  readAvailableVideoInputs() {\n    WebcamUtil.getAvailableVideoInputs().then(mediaDevices => {\n      this.multipleWebcamsAvailable = mediaDevices && mediaDevices.length > 1;\n    });\n  }\n  toggleTheme() {\n    if (this.themeService.isDarkTheme()) {\n      this.themeService.enableLightMode();\n    } else {\n      this.themeService.enableDarkMode();\n    }\n  }\n};\ntestvisuel = __decorate([Component({\n  selector: 'testvisuel',\n  templateUrl: 'testvisuel.component.html',\n  styleUrls: ['testvisuel.component.css']\n})], testvisuel);\nexport { testvisuel };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}